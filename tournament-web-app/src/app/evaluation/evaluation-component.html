<a [routerLink]="'/tournament/'+tournamentId">
    <button mat-icon-button><mat-icon>arrow_back</mat-icon></button>
</a>
<!--
<div>eventCategoryExam COMPONENT</div>
<div>parentCollection:{{parentCollection}} </div>
<div>id:{{id}}</div>
-->

<form [formGroup]="form">
    <mat-card>
        <mat-card-header>
            <mat-card-title>
                <mat-form-field> 
                    <input matInput placeholder="label" formControlName="label" (change)="onChange($event,'label')">
                </mat-form-field> 
            </mat-card-title>
            @if( id ){
                <button mat-icon-button (click)="onDelete()">
                    <mat-icon>delete</mat-icon>
                </button>
            }              
        </mat-card-header>
        <mat-card-content>
            @if( id ){
                <h2>Aspectos</h2>
                @for( e of aspectReferences; track e.id){
                    <a class="aspectref" [routerLink]=" '/tournament/'+ tournamentId + '/evaluation/' + id + '/aspect/' + e.id">
                        <button mat-button>{{e.aspect.label}}</button>
                    </a>  
                }                

                <a [routerLink]=" '/tournament/'+ tournamentId + '/evaluation/' + id + '/aspectNew' ">
                    <button mat-button-icon color="primary"><mat-icon>add</mat-icon></button>
                </a>                
            }
                
        </mat-card-content>
        <mat-card-actions>
            @if( !id ){
                <button mat-button-icon (click)="onCancel()"><mat-icon>cancel</mat-icon></button>
                <button mat-icon-button (click)="onSubmit()" [disabled]="submitting || !form.valid">
                    <mat-icon>done</mat-icon>
                </button> 
            }         
        </mat-card-actions>            
    </mat-card>    
</form>               
